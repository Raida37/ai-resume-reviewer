<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Resume Reviewer</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded-xl shadow">
    <h1 class="text-2xl font-bold mb-4">üìÑ AI Resume Reviewer</h1>

    <textarea id="resume" placeholder="Paste your resume here..."
      class="w-full h-40 p-3 border rounded mb-3"></textarea>

    <textarea id="job" placeholder="Optional: Paste job description..."
      class="w-full h-24 p-3 border rounded mb-3"></textarea>

    <button onclick="analyzeResume()"
      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      Analyze Resume
    </button>

    <div id="output" class="mt-6 whitespace-pre-wrap text-sm"></div>
  </div>

  <script>
    async function analyzeResume() {
      const resumeText = document.getElementById("resume").value;
      const jobText = document.getElementById("job").value;
      const output = document.getElementById("output");

      output.innerText = "‚è≥ Analyzing with Gemini...";

      const res = await fetch("http://localhost:3000/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ resumeText, jobText })
      });

      const data = await res.json();
      output.innerText = data.feedback || "Something went wrong.";
    }
  </script>
</body>
</html>
